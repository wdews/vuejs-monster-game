webpackJsonp([1],{10:function(t,e,a){function n(t){a(43)}var o=a(9)(a(13),a(46),n,null,null);t.exports=o.exports},12:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(11),o=a(10),l=a.n(o);n.a.config.productionTip=!1,new n.a({el:"#app",render:function(t){return t(l.a)}})},13:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(45),o=a.n(n);e.default={name:"app",components:{HealthBar:o.a},data:function(){return{running:!1,you:{health:100},monster:{health:100},healRate:2500,healAmount:10,attackDisabledTimeout:null,healDisabledTimeout:null,rechargeInterval:null,log:[],attackDisabled:!1,healDisabled:!1}},computed:{youHealth:{get:function(){return this.you.health},set:function(t){var e=this,a=e.you.health-t;if(e.running&&e.addLogItem("Monster hits Player for "+a,!0),t<=0)return e.endGame(!1);e.you.health=Math.min(t,100)}},monsterHealth:{get:function(){return this.monster.health},set:function(t){var e=this,a=e.monster.health-t;if(e.running&&e.addLogItem("Player hits Monster for "+a,!1),t<=0)return e.endGame(!0);e.monster.health=Math.min(t,100)}}},watch:{monsterHealth:function(){var t=this;t.stopAutoRecharge(),t.running&&setTimeout(t.instantiateAutoRecharge,500)}},methods:{getRandomInRange:function(t,e){return Math.floor(Math.random()*(e-t))+t},coinToss:function(){return 0===Math.floor(2*Math.random())},attack:function(t,e){var a=this,n=a.getRandomInRange(t/2,t);a.running&&(e?(a.monsterHealth-=n,a.pauseAttacks(),a.coinToss()&&a.attack(10)):a.youHealth-=n)},pauseAttacks:function(){var t=this;clearTimeout(t.attackDisabledTimeout),t.attackDisabled=!0,t.attackDisabledTimeout=setTimeout(function(){t.attackDisabled=!1},.75*t.healRate)},heal:function(){var t=this;t.youHealth+=t.healAmount,t.addLogItem("Player heals himself for "+t.healAmount,!1),clearTimeout(t.healDisabledTimeout),t.healDisabled=!0,t.healDisabledTimeout=setTimeout(function(){t.healDisabled=!1},t.healRate)},instantiateAutoRecharge:function(){var t=this;t.stopAutoRecharge(),t.rechargeInterval=setInterval(function(){if(t.monsterHealth>=100)return t.stopAutoRecharge();t.monsterHealth+=t.healAmount,t.addLogItem("Monster heals himself for "+t.healAmount,!0)},t.healRate)},stopAutoRecharge:function(){var t=this;clearInterval(t.rechargeInterval)},addLogItem:function(t,e){this.log.push({text:t,class:e?"monster-turn":"player-turn"})},endGame:function(){this.reset()},reset:function(){var t=this;t.running=!1,t.log=[],clearTimeout(t.attackDisabledTimeout),clearTimeout(t.healDisabledTimeout),t.stopAutoRecharge(),t.youHealth=100,t.monsterHealth=100,t.attackDisabled=!1,t.healDisabled=!1}}}},14:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(15),o=a.n(n);e.default={props:{label:String,level:{type:Number,default:100},total:{type:Number,default:100},automatic:Boolean},data:function(){return{barColors:[{style:{backgroundColor:"red",color:"#fff"},min:1},{style:{backgroundColor:"yellow",color:"#000"},min:20},{style:{backgroundColor:"green",color:"#fff"},min:50}],timeout:null,levelVisible:!1}},computed:{barWidth:function(){var t=this;return Math.round(t.level/t.total*100)},barColor:function(){var t=this,e=t.barColors.filter(function(e){return e.min<t.level}),a=e[e.length-1];return a?a.style:{backgroundColor:"transparent"}},barStyle:function(){var t=this;return o()({},t.barColor,{width:t.barWidth+"%"})}},watch:{level:function(){var t=this;t.levelVisible=!0,clearTimeout(t.timeout),t.timeout=setTimeout(function(){t.levelVisible=!1},1e3)}}}},43:function(t,e){},44:function(t,e){},45:function(t,e,a){function n(t){a(44)}var o=a(9)(a(14),a(47),n,"data-v-3d85d312",null);t.exports=o.exports},46:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("main",{staticClass:"main"},[a("section",{staticClass:"row"},[a("div",{staticClass:"column"},[a("health-bar",{attrs:{label:"You",level:t.youHealth}})],1),t._v(" "),a("div",{staticClass:"column"},[a("health-bar",{attrs:{label:"Monster",level:t.monsterHealth,automatic:!0}})],1)]),t._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.running?a("section",{key:"controls",staticClass:"controls"},[a("button",{staticClass:"button button--attack",attrs:{disabled:t.attackDisabled},on:{click:function(e){t.attack(20,!0)}}},[t._v("\n          Attack\n        ")]),t._v(" "),a("button",{staticClass:"button button--special-attack",attrs:{disabled:t.attackDisabled},on:{click:function(e){t.attack(40,!0)}}},[t._v("\n          Special Attack\n        ")]),t._v(" "),a("button",{staticClass:"button button--heal",attrs:{disabled:t.youHealth>=100||t.healDisabled},on:{click:t.heal}},[t._v("\n          Heal\n        ")]),t._v(" "),a("button",{staticClass:"button button--give-up",on:{click:t.reset}},[t._v("Give Up")])]):a("section",{key:"start",staticClass:"controls"},[a("button",{staticClass:"button button--start",on:{click:function(e){t.running=!0}}},[t._v("Start New Game")])])]),t._v(" "),t.log.length?a("section",{staticClass:"log"},[a("ul",t._l(t.log,function(e){return a("li",{key:e.text,class:e.class},[t._v(t._s(e.text))])}))]):t._e()],1)])},staticRenderFns:[]}},47:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"healthbar"},[t.label?a("h1",{staticClass:"healthbar__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),a("div",{staticClass:"healthbar__bar"},[a("div",{staticClass:"healthbar__fill",style:t.barStyle},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.levelVisible,expression:"levelVisible"}]},[t._v(t._s(t.level))])])],1)])])},staticRenderFns:[]}}},[12]);
//# sourceMappingURL=app.6a7438583d6f1f0f8768.js.map